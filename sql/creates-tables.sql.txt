-- Ordem da criação de tabelas: 1-consultorio / 2-medicos / 3-pacientes / 4-consultas

create table consultorio ( 
id_consultorio NUMBER(3) PRIMARY KEY, 
nome_consultorio VARCHAR2(30) NOT NULL, 
cnpj_consultorio VARCHAR2(14) NOT NULL, 
tel_consultorio NUMBER(11) NOT NULL, 
end_consultorio VARCHAR2(50) NOT NULL 
);


CREATE TABLE medicos( 
id_medico NUMBER(5) PRIMARY KEY, 
nome_medico VARCHAR2(50) NOT NULL, 
cpf_medico VARCHAR2(11) NOT NULL, 
tel_medico NUMBER(11) NOT NULL, 
id_consul_medico NUMBER(3) NOT NULL, 
especialidade_medico VARCHAR2(25),
CONSTRAINT fk_consultorio FOREIGN KEY (id_consul_medico) REFERENCES consultorio(id_consultorio) 
);



CREATE TABLE pacientes( 
id_paciente NUMBER(6) PRIMARY KEY, 
nome_paciente VARCHAR2(50) NOT NULL, 
cpf_paciente VARCHAR2(11) NOT NULL, 
dt_nasc_paciente DATE NOT NULL, 
tel_paciente NUMBER(11) NOT NULL, 
id_consul_paciente NUMBER(3) NOT NULL, 
CONSTRAINT fk_paciente_consul FOREIGN KEY (id_consul_paciente) REFERENCES consultorio(id_consultorio) 
);


CREATE TABLE consultas( 
id_consulta NUMBER(6) PRIMARY KEY, 
dt_consulta DATE NOT NULL, 
id_consul_consulta NUMBER(3) NOT NULL, 
id_med_consulta NUMBER(5) NOT NULL, 
id_pac_consulta NUMBER(6) NOT NULL, 
valor consulta NUMBER(5,2) NOT NULL,
observação VARCHAR2(200) NOT NULL,
CONSTRAINT fk_consul_consulta FOREIGN KEY (id_consul_consulta) REFERENCES consultorio(id_consultorio), 
CONSTRAINT fk_med_consulta FOREIGN KEY (id_med_consulta) REFERENCES medicos(id_medico), 
CONSTRAINT fk_pac_consulta FOREIGN KEY (id_pac_consulta) REFERENCES pacientes(id_paciente) 
);

